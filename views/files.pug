doctype html
html
	head
		title Files - zmgr
		link(rel="stylesheet" type="text/css" href="/zmgr/assets/css/bootstrap.min.css")
		link(rel="stylesheet" type="text/css" href="/zmgr/assets/css/default.css")
		link(rel="stylesheet" type="text/css" href="https://noki.zorque.xyz/css/font-awesome.min.css")
		link(rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto")
	body
		div(class="container")
			include header
			div(class="row")
				div(class="col-lg-12")
					h4 #[strong Files] (#{totalFiles})
					ul(class="noki-list")
						for dat, ind in files
							- let timeSince = moment(dat.uploaded).fromNow();
							- let fullTime = moment(dat.uploaded).format("dddd, MMMM Do YYYY, h:mm:ss a");
							- let abbrevURL = "..." + dat.url.substring(23);
							- let formatSize = dat.rsize / 1000000;
							- let unit = "MB";
							- if (formatSize < 1) {
								- formatSize = dat.rsize / 1000;
								- unit = "KB";
							- }
							- formatSize = Math.round((formatSize + 0.00001) * 100) / 100;
							li #[span(title=fullTime class="pull-right since-label") #{timeSince}] #[a(target="_blank" href=dat.url) #{abbrevURL}] #[span(title=dat.fsize + " bytes") (#{formatSize}&nbsp;#{unit})]
			div(class="row")
				div(class="col-lg-12 text-center")
					- let prev = ((numPage - 1) > 0 ? true : false);
					- let next = ((numPage + 1) <= totalPages ? true : false);

					- if (prev) {
						span(title="Previous" style="margin-right: 10px;") #[a(href="?page=" + (numPage - 1)) <]
						span(title="First" class="pull-left") #[a(href="?page=1") <<]
					- }
					- else {
						span(style="margin-left: 10px;") #[a(class="disabled") &nbsp;&nbsp;&nbsp;]
						span(class="pull-left") #[a(class="disabled") &nbsp;&nbsp;&nbsp;]
					- }


					span(title="Page Count") #{numPage}/#{totalPages}
					
					- if (next) {
						span(title="Next" style="margin-left: 10px;") #[a(href="?page=" + (numPage + 1)) >]
						span(title="Last" class="pull-right") #[a(href="?page=" + totalPages) >>]
					- }
					- else {
						span(style="margin-left: 10px;") #[a(class="disabled") &nbsp;&nbsp;&nbsp;]
						span(class="pull-right") #[a(class="disabled") &nbsp;&nbsp;&nbsp;]
					- }
			include footer